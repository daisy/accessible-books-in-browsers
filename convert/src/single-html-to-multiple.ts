// divide the html content into one file per top level toc item
function convert(inputFilename, outputDirectory) {

}

// list all the ID'd elements in the text file
function makeIdMap(filename) {

}

// find the boundaries
// return a nested element map, divided up based on ID points
function findBoundaries(elementMap, listOfIdPoints) {

}

// make new filenames, return the new spine
function addFilenames(newStructure) {

}

// if has SMIL
// redo the smil text references

// decide which smil file goes with which 

// write new files (use new template)